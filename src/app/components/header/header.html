<nav class="navbar navbar-expand bg-white fixed-top main-navbar shadow-sm">
  <div class="container-fluid px-4 d-flex align-items-center justify-content-between">

    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center gap-2" routerLink="/">
      <img src="https://images.seeklogo.com/logo-png/2/2/blogger-b-logo-png_seeklogo-20342.png" alt="logo" width="28"
        height="28" />
      <span class="brand-text d-none d-md-inline fw-bold text-dark">Blogium</span>
    </a>

    <!-- Right-side controls -->
    <div class="d-flex align-items-center gap-3">
      <!-- Notification Component -->
      <app-notification></app-notification>

      <!-- Create Post Button -->
      <button class="btn btn-sm rounded-pill d-flex align-items-center border-0" (click)="openCreatePost()">
        <img src="/media/add-icon.png" alt="add" width="18" height="18" />
      </button>


      <!-- User Dropdown -->
      <div class="dropdown">
        <a class="d-flex align-items-center gap-2 dropdown-toggle text-dark text-decoration-none"
          data-bs-toggle="dropdown" aria-expanded="false" style="cursor:pointer;">
          <img
            src="{{ userService.getUser().avatar ? 'http://localhost:8080/' + userService.getUser().avatar : 'https://bootdey.com/img/Content/avatar/avatar5.png' }}"
            alt="avatar" width="36" height="36" class="rounded-circle border border-2 border-light" />
          <span class="d-none d-lg-inline fw-medium">{{ userService.getUser().username }}</span>
        </a>

        <ul class="dropdown-menu dropdown-menu-end shadow-sm">
          <!-- User Info -->
          <li class="px-3 py-2 text-center">
            <strong>{{ userService.getUser().username }}</strong>
            <div class="text-muted small">{{ userService.getUser().role }}</div>
          </li>

          <li>
            <hr class="dropdown-divider" />
          </li>

          <!-- Profile -->
          <li>
            <a class="dropdown-item text-center" [routerLink]="['/profile', userService.getUser().id]">My Profile</a>
          </li>

          <!-- Admin Dashboard -->
          <li *ngIf="userService.getUser().role === 'ADMIN'">
            <a class="dropdown-item text-center" routerLink="/admin/dashboard">Admin Dashboard</a>
          </li>

          <li>
            <hr class="dropdown-divider" />
          </li>

          <!-- Sign out -->
          <li>
            <a class="dropdown-item text-center text-danger" routerLink="/logout">Sign out</a>
          </li>
        </ul>
      </div>

    </div>

  </div>
</nav>

<!-- Create Post Modal Component -->
<app-create-post [visible]="showCreatePost" (closed)="closeCreatePost()"></app-create-post>